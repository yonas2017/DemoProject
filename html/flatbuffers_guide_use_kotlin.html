<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Demo Project: Use in Kotlin</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Demo Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Use in Kotlin</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Before you get started</h1>
<p>Before diving into the FlatBuffers usage in Kotlin, it should be noted that the <a class="el" href="flatbuffers_guide_tutorial.html">Tutorial</a> page has a complete guide to general FlatBuffers usage in all of the supported languages (including K).</p>
<p>This page is designed to cover the nuances of FlatBuffers usage, specific to Kotlin.</p>
<p>You should also have read the <a class="el" href="flatbuffers_guide_building.html">Building</a> documentation to build <code>flatc</code> and should be familiar with <a class="el" href="flatbuffers_guide_using_schema_compiler.html">Using the schema compiler</a> and <a class="el" href="flatbuffers_guide_writing_schema.html">Writing a schema</a>.</p>
<h1>Kotlin and FlatBuffers Java code location</h1>
<p>Code generated for Kotlin currently uses the flatbuffers java runtime library. That means that Kotlin generated code can only have Java virtual machine as target architecture (which includes Android). Kotlin <a class="el" href="namespaceNative.html">Native</a> and Kotlin.js are currently not supported.</p>
<p>The code for the FlatBuffers Java library can be found at <code>flatbuffers/java/com/google/flatbuffers</code>. You can browse the library on the <a href="https://github.com/google/flatbuffers/tree/master/
java/com/google/flatbuffers">FlatBuffers GitHub page</a>.</p>
<h1>Testing FlatBuffers Kotlin</h1>
<p>The test code for Java is located in <a href="https://github.com/google
/flatbuffers/blob/master/tests/KotlinTest.kt">KotlinTest.java</a>.</p>
<p>To run the tests, use <a href="https://github.com/google/
flatbuffers/blob/master/tests/KotlinTest.sh">KotlinTest.sh</a> shell script.</p>
<p><em>Note: These scripts require that <a href="https://kotlinlang.org/">Kotlin</a> is installed.</em></p>
<h1>Using the FlatBuffers Kotlin library</h1>
<p><em>Note: See <a class="el" href="flatbuffers_guide_tutorial.html">Tutorial</a> for a more in-depth example of how to use FlatBuffers in Kotlin.</em></p>
<p>FlatBuffers supports reading and writing binary FlatBuffers in Kotlin.</p>
<p>To use FlatBuffers in your own code, first generate Java classes from your schema with the <code>--kotlin</code> option to <code>flatc</code>. Then you can include both FlatBuffers and the generated code to read or write a FlatBuffer.</p>
<p>For example, here is how you would read a FlatBuffer binary file in Kotlin: First, import the library and generated code. Then, you read a FlatBuffer binary file into a <code>ByteArray</code>. You then turn the <code>ByteArray</code> into a <code>ByteBuffer</code>, which you pass to the <code>getRootAsMyRootType</code> function:</p>
<div class="fragment"><div class="line">import MyGame.Example.*</div>
<div class="line">import com.google.flatbuffers.FlatBufferBuilder</div>
<div class="line"> </div>
<div class="line">// This snippet ignores exceptions for brevity.</div>
<div class="line">val data = RandomAccessFile(File(&quot;monsterdata_test.mon&quot;), &quot;r&quot;).use {</div>
<div class="line">    val temp = ByteArray(it.length().toInt())</div>
<div class="line">    it.readFully(temp)</div>
<div class="line">    temp</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">val bb = ByteBuffer.wrap(data)</div>
<div class="line">val monster = Monster.getRootAsMonster(bb)</div>
</div><!-- fragment --><p>Now you can access the data from the <code>Monster monster</code>:</p>
<div class="fragment"><div class="line">val hp = monster.hp</div>
<div class="line">val pos = monster.pos!!;</div>
</div><!-- fragment --><h1>Differences between Kotlin and Java code</h1>
<p>Kotlin generated code was designed to be as close as possible to the java counterpart, as for now, we only support kotlin on java virtual machine. So the differences in implementation and usage are basically the ones introduced by the Kotlin language itself. You can find more in-depth information <a href="https://kotlinlang.org/docs/reference/comparison-to-java.html">here</a>.</p>
<p>The most obvious ones are:</p>
<ul>
<li>Fields as accessed as Kotlin <a href="https://kotlinlang.org/docs/reference/properties.html">properties</a></li>
<li>Static methods are accessed in <a href="https://kotlinlang.org/docs/reference/classes.html#companion-objects">companion object</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
