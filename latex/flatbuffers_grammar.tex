\chapter{Grammar of the schema language}
\hypertarget{flatbuffers_grammar}{}\label{flatbuffers_grammar}\index{Grammar of the schema language@{Grammar of the schema language}}
schema = include\texorpdfstring{$\ast$}{*} ( namespace\+\_\+decl \texorpdfstring{$\vert$}{|} type\+\_\+decl \texorpdfstring{$\vert$}{|} enum\+\_\+decl \texorpdfstring{$\vert$}{|} root\+\_\+decl \texorpdfstring{$\vert$}{|} file\+\_\+extension\+\_\+decl \texorpdfstring{$\vert$}{|} file\+\_\+identifier\+\_\+decl \texorpdfstring{$\vert$}{|} attribute\+\_\+decl \texorpdfstring{$\vert$}{|} rpc\+\_\+decl \texorpdfstring{$\vert$}{|} object )\texorpdfstring{$\ast$}{*}

include = {\ttfamily include} string\+\_\+constant {\ttfamily ;}

namespace\+\_\+decl = {\ttfamily namespace} ident ( {\ttfamily .} ident )\texorpdfstring{$\ast$}{*} {\ttfamily ;}

attribute\+\_\+decl = {\ttfamily attribute} ident \texorpdfstring{$\vert$}{|} {\ttfamily "{}$<$/tt$>$ ident $<$tt$>$"{}} {\ttfamily ;}

type\+\_\+decl = ( {\ttfamily table} \texorpdfstring{$\vert$}{|} {\ttfamily struct} ) ident metadata {\ttfamily \{} field\+\_\+decl+ {\ttfamily \}}

enum\+\_\+decl = ( {\ttfamily enum} ident {\ttfamily \+:} type \texorpdfstring{$\vert$}{|} {\ttfamily union} ident ) metadata {\ttfamily \{} commasep( enumval\+\_\+decl ) {\ttfamily \}}

root\+\_\+decl = {\ttfamily root\+\_\+type} ident {\ttfamily ;}

field\+\_\+decl = ident {\ttfamily \+:} type \mbox{[} {\ttfamily =} scalar \mbox{]} metadata {\ttfamily ;}

rpc\+\_\+decl = {\ttfamily rpc\+\_\+service} ident {\ttfamily \{} rpc\+\_\+method+ {\ttfamily \}}

rpc\+\_\+method = ident {\ttfamily (} ident {\ttfamily )} {\ttfamily \+:} ident metadata {\ttfamily ;}

type = {\ttfamily bool} \texorpdfstring{$\vert$}{|} {\ttfamily byte} \texorpdfstring{$\vert$}{|} {\ttfamily ubyte} \texorpdfstring{$\vert$}{|} {\ttfamily short} \texorpdfstring{$\vert$}{|} {\ttfamily ushort} \texorpdfstring{$\vert$}{|} {\ttfamily int} \texorpdfstring{$\vert$}{|} {\ttfamily uint} \texorpdfstring{$\vert$}{|} {\ttfamily float} \texorpdfstring{$\vert$}{|} {\ttfamily long} \texorpdfstring{$\vert$}{|} {\ttfamily ulong} \texorpdfstring{$\vert$}{|} {\ttfamily double} \texorpdfstring{$\vert$}{|} {\ttfamily int8} \texorpdfstring{$\vert$}{|} {\ttfamily uint8} \texorpdfstring{$\vert$}{|} {\ttfamily int16} \texorpdfstring{$\vert$}{|} {\ttfamily uint16} \texorpdfstring{$\vert$}{|} {\ttfamily int32} \texorpdfstring{$\vert$}{|} {\ttfamily uint32}\texorpdfstring{$\vert$}{|} {\ttfamily int64} \texorpdfstring{$\vert$}{|} {\ttfamily uint64} \texorpdfstring{$\vert$}{|} {\ttfamily float32} \texorpdfstring{$\vert$}{|} {\ttfamily float64} \texorpdfstring{$\vert$}{|} {\ttfamily string} \texorpdfstring{$\vert$}{|} {\ttfamily \mbox{[}} type {\ttfamily \mbox{]}} \texorpdfstring{$\vert$}{|} ident

enumval\+\_\+decl = ident \mbox{[} {\ttfamily =} integer\+\_\+constant \mbox{]} metadata

metadata = \mbox{[} {\ttfamily (} commasep( ident \mbox{[} {\ttfamily \+:} single\+\_\+value \mbox{]} ) {\ttfamily )} \mbox{]}

scalar = boolean\+\_\+constant \texorpdfstring{$\vert$}{|} integer\+\_\+constant \texorpdfstring{$\vert$}{|} float\+\_\+constant

object = {\ttfamily \{} commasep( ident {\ttfamily \+:} value ) {\ttfamily \}}

single\+\_\+value = scalar \texorpdfstring{$\vert$}{|} string\+\_\+constant

value = single\+\_\+value \texorpdfstring{$\vert$}{|} object \texorpdfstring{$\vert$}{|} {\ttfamily \mbox{[}} commasep( value ) {\ttfamily \mbox{]}}

commasep(x) = \mbox{[} x ( {\ttfamily ,} x )\texorpdfstring{$\ast$}{*} \mbox{]}

file\+\_\+extension\+\_\+decl = {\ttfamily file\+\_\+extension} string\+\_\+constant {\ttfamily ;}

file\+\_\+identifier\+\_\+decl = {\ttfamily file\+\_\+identifier} string\+\_\+constant {\ttfamily ;}

string\+\_\+constant = {\ttfamily \textbackslash{}"{}.\texorpdfstring{$\ast$}{*}?\textbackslash{}\textbackslash{}"{}}

ident = {\ttfamily \mbox{[}a-\/z\+A-\/\+Z\+\_\+\mbox{]}\mbox{[}a-\/z\+A-\/\+Z0-\/9\+\_\+\mbox{]}\texorpdfstring{$\ast$}{*}}

{\ttfamily \mbox{[}\+:digit\+:\mbox{]}} = {\ttfamily \mbox{[}0-\/9\mbox{]}}

{\ttfamily \mbox{[}\+:xdigit\+:\mbox{]}} = {\ttfamily \mbox{[}0-\/9a-\/f\+A-\/F\mbox{]}}

dec\+\_\+integer\+\_\+constant = {\ttfamily \mbox{[}-\/+\mbox{]}?\mbox{[}\+:digit\+:\mbox{]}+}

hex\+\_\+integer\+\_\+constant = {\ttfamily \mbox{[}-\/+\mbox{]}?0\mbox{[}xX\mbox{]}\mbox{[}\+:xdigit\+:\mbox{]}+}

integer\+\_\+constant = dec\+\_\+integer\+\_\+constant \texorpdfstring{$\vert$}{|} hex\+\_\+integer\+\_\+constant

dec\+\_\+float\+\_\+constant = {\ttfamily \mbox{[}-\/+\mbox{]}?((\mbox{[}.\mbox{]}\mbox{[}\+:digit\+:\mbox{]}+)\texorpdfstring{$\vert$}{|}(\mbox{[}\+:digit\+:\mbox{]}+\mbox{[}.\mbox{]}\mbox{[}\+:digit\+:\mbox{]}\texorpdfstring{$\ast$}{*})\texorpdfstring{$\vert$}{|}(\mbox{[}\+:digit\+:\mbox{]}+))(\mbox{[}eE\mbox{]}\mbox{[}-\/+\mbox{]}?\mbox{[}\+:digit\+:\mbox{]}+)?}

hex\+\_\+float\+\_\+constant = {\ttfamily \mbox{[}-\/+\mbox{]}?0\mbox{[}xX\mbox{]}((\mbox{[}.\mbox{]}\mbox{[}\+:xdigit\+:\mbox{]}+)\texorpdfstring{$\vert$}{|}(\mbox{[}\+:xdigit\+:\mbox{]}+\mbox{[}.\mbox{]}\mbox{[}\+:xdigit\+:\mbox{]}\texorpdfstring{$\ast$}{*})\texorpdfstring{$\vert$}{|}(\mbox{[}\+:xdigit\+:\mbox{]}+))(\mbox{[}pP\mbox{]}\mbox{[}-\/+\mbox{]}?\mbox{[}\+:digit\+:\mbox{]}+)}

special\+\_\+float\+\_\+constant = {\ttfamily \mbox{[}-\/+\mbox{]}?(nan\texorpdfstring{$\vert$}{|}inf\texorpdfstring{$\vert$}{|}infinity)}

float\+\_\+constant = dec\+\_\+float\+\_\+constant \texorpdfstring{$\vert$}{|} hex\+\_\+float\+\_\+constant \texorpdfstring{$\vert$}{|} special\+\_\+float\+\_\+constant

boolean\+\_\+constant = {\ttfamily true} \texorpdfstring{$\vert$}{|} {\ttfamily false} 